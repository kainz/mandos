mandos (1.8.7-1) unstable; urgency=medium

  * New upstream release.
  * debian/upstream/metadata: New.
  * debian/mandos-client.postrm: Use the same logic as the
    update_initramfs function in debian/mandos-client.postinst.
  * debian/mandos-client.templates (mandos-client/key_id): Line which
    should not be wrapped should be prefixed by a space.
  * debian/mandos.templates (mandos/key_id): - '' -
  * debian/po/en_US.po: New "translation" from ASCII to UTF-8.
  * debian/po/templates.pot: Updated.
  * debian/source/lintian-overrides
    (package-uses-old-debhelper-compat-version): New; set to "10".
  * debian/mandos-client.lintian-overrides
    (maintainer-script-supports-ancient-package-version): New.
    debian/mandos.lintian-overrides
    (maintainer-script-supports-ancient-package-version): - '' -

 -- Teddy Hogeborn <teddy@recompile.se>  Mon, 05 Aug 2019 23:22:00 +0200

mandos (1.8.6-1) unstable; urgency=medium

  * New upstream release.
  * Fix "mandos FTCBFS: hard codes build architecture pkg-config"
    by making pkg-config overridable (Closes: #933701)
  * debian/mandos.postinst (configure): After creating (or renaming) user
    & group, reload D-Bus daemon (if present).

 -- Teddy Hogeborn <teddy@recompile.se>  Sat, 03 Aug 2019 14:51:01 +0200

mandos (1.8.5-1) unstable; urgency=medium

  * New upstream release.
  * Fix "does not reap children" by reaping children (Closes: #933387)
  * debian/mandos-client.README.Debian: Use new-style interface name.
  * debian/tests/control: New file; implements autopkgtest support.
  * debian/mandos-client.lintian-overrides
    (manpage-has-errors-from-man): Remove; unnecessary.
  * debian/mandos.lintian-overrides
    (init.d-script-needs-depends-on-lsb-base): - '' -
  * debian/mandos-client.postinst (update_initramfs): Upstream now
    supports dracut(8), so update commands here to and run the correct
    command to update initramfs.
  * debian/control (Build-Depends): Add GLib -dev package.
    (mandos-client/Depends): Add dracut(8) as an alternative dependency to
    initramfs-tools.
    (mandos-client/Conflicts): New; set to "dracut-config-generic".
    (debian/mandos-client.README.Debian): Update for dracut(8) support.
  * debian/mandos-client.templates: Reflowed by debconf-gettextize(1).
  * debian/mandos.templates: - '' -
  * debian/po/POTFILES.in: New.
  * debian/po/templates.pot: - '' -
  * debian/source/lintian-overrides: New.
  * debian/control (Standards-Version): Update to "4.4.0".

 -- Teddy Hogeborn <teddy@recompile.se>  Tue, 30 Jul 2019 20:41:29 +0200

mandos (1.8.4-1) unstable; urgency=medium

  * Fix "dirs in initrd are not accessible by mandos plugin-runner" by
    making sure UMASK is set, no matter what other packages have installed
    in "/usr/share/initramfs-tools/conf-hooks.d". (Closes: #926641)
  * Fix "LeakSanitizer: detected memory leaks, fails to decrypt"
    by fixing memory leak in plugin-runner. (Closes: #926643)
  * debian/mandos-client.dirs: Add
    "usr/share/initramfs-tools/conf-hooks.d", needed by fix for #926641.

 -- Teddy Hogeborn <teddy@recompile.se>  Tue, 09 Apr 2019 22:05:39 +0200

mandos (1.8.3-3) unstable; urgency=medium

  * Fix "src:mandos: modifies d/control during build" by not doing that
    anymore.  (Closes: #922202)
  * debian/rules (override_dh_shlibdeps-arch): Commented out.

 -- Teddy Hogeborn <teddy@recompile.se>  Wed, 13 Feb 2019 09:52:39 +0100

mandos (1.8.3-2) unstable; urgency=medium

  * debian/rules (override_dh_shlibdeps-arch): New; conditionally edit
    debian/control before running dh_shlibdeps.

 -- Teddy Hogeborn <teddy@recompile.se>  Mon, 11 Feb 2019 12:49:57 +0100

mandos (1.8.3-1) unstable; urgency=medium

  * New upstream release.
  * debian/watch: Make the ".orig" file name suffix non-optional;
    otherwise uscan thinks that ".orig" is part of the version number.
  * debian/control (Build-Depends): Changed GnuTLS dependencies; move
    3.6.6 alternative to first in list, and remove dependencies on the
    virtual package "gnutls-dev", since we need the version restrictions.
    (Package: mandos/Depends): Remove dependency on libgnutls28-dev
    package.
    (Package: mandos/Suggests): New; set to "libc6-dev, c-compiler". (Used
    to find value of "SO_BINDTODEVICE").
    (Package: mandos-client/Depends): Don't depend on openssl anymore;
    instead depend on either a gnutls-bin (>= 3.6.6) (in which case TLS
    key generation will work), or on libgnutls30 (<< 3.6.0) (in which case
    TLS key generation will not be needed).

 -- Teddy Hogeborn <teddy@recompile.se>  Mon, 11 Feb 2019 07:30:32 +0100

mandos (1.8.2-1) unstable; urgency=medium

  * New upstream release.
  * debian/mandos-client.postinst (create_keys): Ignore failure to remove
                                                 bad keys.

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 10 Feb 2019 11:44:56 +0100

mandos (1.8.1-1) unstable; urgency=high

  * New upstream release.
  * debian/mandos-client.postinst (create_keys): Remove any bad keys
    created by 1.8.0-1. Only create TLS keys if certtool succeeds.
  * debian/mandos.postinst (configure): Remove any bad keys from
    clients.conf, and inform the user if any were found.
  * debian/mandos.templates (mandos/removed_bad_key_ids): New message.

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 10 Feb 2019 10:00:21 +0100

mandos (1.8.0-1) unstable; urgency=medium

  * New upstream release.
  * Fix "(tries to) use GnuTLS OpenPGP support" by using raw public keys
    when available (Closes: #879538)
  * Fix "mandos : Depends: libgnutls30 (< 3.6.0) but 3.6.5-2 is to be
    installed" by now also allowing GnuTLS >= 3.6.6 (Closes: #916673)
  * debian/control (Standards-Version): Update to "4.3.0".
    (Package: mandos-client/Depends): Change from "cryptsetup" to
    "cryptsetup (<< 2:2.0.3-1) | cryptsetup-initramfs".  Add "debconf (>=
    1.5.5) | debconf-2.0".
    (Source: mandos/Build-Depends): Also allow libgnutls30 (>= 3.6.6).
    (Package: mandos/Depends): - '' - and add debconf (>= 1.5.5) |
    debconf-2.0".
    (Package: mandos/Description): Alter description to match new design.
    (Package: mandos-client/Description): - '' -
    (Package: mandos-client/Depends): Move "gnutls-bin | openssl" to here
    from "Recommends".
  * debian/mandos-client.README.Debian: Add --tls-privkey and --tls-pubkey
    options to test command.
  * debian/mandos-client.postinst (create_key): Renamed to "create_keys"
    - all callers changed - and also create TLS key files.  Show notice if
    new TLS key files were created.
  * debian/mandos-client.postrm (purge): Also remove TLS key files.
  * debian/mandos-client.lintian-overrides: Override warnings.
  * debian/mandos-client.templates: New.
  * debian/mandos.lintian-overrides: Override warnings.
  * debian/mandos.postinst (configure): If GnuTLS 3.6.6 or later is
    detected, show an important notice (once) about the new key_id option
    required in clients.conf.
  * debian/mandos.templates: New.
  * debian/copyright: Update copyright year to 2019.

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 10 Feb 2019 05:52:49 +0100

mandos (1.7.20-1) unstable; urgency=medium

  * New upstream release.
  * Fix "[tethys] mandos-client: Mandos client fails while booting but
    works from chroot into unpacked initramfs" by setting system clock if
    necessary (Closes: #894495)
  * Fix "initramfs boot script assumes internal cryptsetup implementation
    details and is now broken" by only using documented
    interfaces (Closes: #904899)
  * debian/mandos-client.dirs: Add
    "usr/share/initramfs-tools/scripts/local-premount" and
    "usr/share/initramfs-tools/conf.d", and remove
    "usr/share/initramfs-tools/conf-hooks.d".
  * debian/control (mandos-client/Depends): Add "(>= 0.99)" to dependency
    on "initramfs-tools".
  * debian/control (Source: mandos/Rules-Requires-Root): New; set to
    "binary-targets".
    (Standards-Version): Update to "4.2.0".

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 19 Aug 2018 22:14:04 +0200

mandos (1.7.19-1) unstable; urgency=medium

  * New upstream release.
  * Fix "fails with "LeakSanitizer has encountered a fatal error"" by not
    using LeakSanitizer in affected binary (Closes: #886595)

 -- Teddy Hogeborn <teddy@recompile.se>  Thu, 22 Feb 2018 19:47:59 +0100

mandos (1.7.18-1) unstable; urgency=medium

  * New upstream release.

 -- Teddy Hogeborn <teddy@recompile.se>  Mon, 12 Feb 2018 16:00:11 +0100

mandos (1.7.17-1) unstable; urgency=medium

  * New upstream release.
  * Fix "fails with "LeakSanitizer has encountered a fatal error""
    by fixing memory leak in plugin-runner (Closes: #886595)
  * debian/control (Build-Depends): Also depend on "libgnutls28-dev (<<
    3.6.0) | libgnutls30 (<< 3.6.0)".
    (Package: mandos/Depends): - '' -
  * debian/compat: Change to "10".
  * debian/watch (version): Change to "4".
    (opts/pgpsigurlmangle): Remove.
    (opts/pgpmode): New; set to "auto".
    (URL): Change to "https://ftp.recompile.se/pub/@PACKAGE@/@PACKAGE@
    @ANY_VERSION@(?:\.orig)?@ARCHIVE_EXT@".
  * debian/copyright: Update copyright year to 2018.
  * debian/rules: Support the "noopt" and "parallel" DEB_BUILD_OPTIONS.
    (override_dh_fixperms-arch): Use the DEB_HOST_MULTIARCH
    variable directly instead of shelling out to "dpkg-architecture".
  * debian/control (Standards-Version): Update to "4.1.3".
    (Build-Depends): Change version of debhelper dependency to ">= 10".
  * debian/mandos.lintian-overrides
    (init.d-script-needs-depends-on-lsb-base): Change line number to "46".

 -- Teddy Hogeborn <teddy@recompile.se>  Sat, 10 Feb 2018 19:09:50 +0100

mandos (1.7.16-1) unstable; urgency=medium

  * New upstream release.
  * debian/copyright (License): Use program name explicitly.
    (Format): Use https in URL.
  * debian/control (Priority): Change from "extra" to "optional".
    (Standards-Version): Update to "4.0.1".

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 20 Aug 2017 21:05:26 +0200

mandos (1.7.15-1) unstable; urgency=medium

  * New upstream release.
  * Upstream release fixes "Seems not to be honoring zeroconf option at
    mandos.conf" (Closes: #855589)
  * debian/mandos.lintian-overrides (mandos): Add new line
    "init.d-script-needs-depends-on-lsb-base etc/init.d/mandos (line 49)".
  * debian/copyright: Update copyright year to 2017.

 -- Teddy Hogeborn <teddy@recompile.se>  Thu, 23 Feb 2017 21:29:36 +0100

mandos (1.7.14-1) unstable; urgency=medium

  * New upstream release.
  * debian/mandos-client.postinst (create_key): Stop GPG agent after
    running mandos-keygen.
  * debian/control (Package: mandos/Depends): Add "systemd-sysv | lsb-base
    (>= 3.0-6)", change "gnupg" to "gnupg2 | gnupg", and change
    "libgpgme11-dev" to "libgpgme-dev | libgpgme11-dev".

 -- Teddy Hogeborn <teddy@recompile.se>  Wed, 25 Jan 2017 20:36:03 +0100

mandos (1.7.13-1) unstable; urgency=medium

  * New upstream release.
  * Fix "fails to install noninteractively" by using the "%no-protection"
    statement in the GnuPG batch parameter file. (Closes: #840001)

 -- Teddy Hogeborn <teddy@recompile.se>  Sat, 08 Oct 2016 06:31:07 +0200

mandos (1.7.12-1) unstable; urgency=medium

  * New upstream release.

 -- Teddy Hogeborn <teddy@recompile.se>  Wed, 05 Oct 2016 22:06:55 +0200

mandos (1.7.11-1) unstable; urgency=high

  * New upstream release.
  * debian/control (Source: mandos/Vcs-Bzr): Change to use HTTPS.
    (Vcs-Browser): - '' -

 -- Teddy Hogeborn <teddy@recompile.se>  Sat, 01 Oct 2016 16:20:48 +0200

mandos (1.7.10-1) unstable; urgency=high

  * New upstream release.
  * debian/rules (override_dh_fixperms-arch): Also exclude
    "etc/mandos/plugin-helpers" from changes by dh_fixperms.
  * debian/mandos-client.postinst: Fix the permissions of
    "/etc/mandos/plugin-helpers" for those systems which had a fresh
    install of an older version.

 -- Teddy Hogeborn <teddy@recompile.se>  Thu, 23 Jun 2016 22:00:29 +0200

mandos (1.7.9-1) unstable; urgency=medium

  * New upstream release.

 -- Teddy Hogeborn <teddy@recompile.se>  Wed, 22 Jun 2016 07:30:12 +0200

mandos (1.7.8-1) unstable; urgency=medium

  * New upstream release.
  * Fix "bad gpgme_op_decrypt: GPGME: Decryption failed." by copying
    /usr/bin/gpg-agent into initramfs (Closes: #819982)
  * debian/control (Homepage): Change URL to use HTTPS.
    (Standards-Version): Update to 3.9.8.
  * debian/copyright (Source): Change URL to HTTPS.
  * debian/mandos-client.README.Debian: Change wording to match updated
    capabilities.

 -- Teddy Hogeborn <teddy@recompile.se>  Tue, 21 Jun 2016 21:36:10 +0200

mandos (1.7.7-1) unstable; urgency=medium

  * New upstream release.
  * debian/mandos-client.postinst (configure): If older version, fix
    permissions on plugin helper directory.  Also fix permissions on
    plugin helper local override directory (/etc/mandos/plugin-helpers),
    but only if not listed by "dpkg-statoverride".
  * debian/rules (override_dh_fixperms-arch): Exclude plugin helper
    directory from dh_fixperms.
  * debian/mandos.postinst (configure): Fix state directory permissions,
    but only if not listed by "dpkg-statoverride".
  * debian/mandos-client.lintian-overrides: Do not warn about permissions
    on plugin helper directory.
  * debian/mandos.dirs (usr/lib/tmpfiles.d): Added.

 -- Teddy Hogeborn <teddy@recompile.se>  Sat, 19 Mar 2016 22:58:49 +0100

mandos (1.7.6-1) unstable; urgency=medium

  * New upstream release.
  * debian/control (Source: mandos/Build-Depends-Indep): Remove
    "python-avahi".
    (Source: mandos/Build-Depends-Indep): Change "python-gi |
    python-gobject" to "python-gi"; i.e. remove "python-gobject".

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 13 Mar 2016 22:58:23 +0100

mandos (1.7.5-1) unstable; urgency=high

  * New upstream release.
  * debian/mandos.postinst (configure): If old version was 1.7.4-1 or
    1.7.4-1~bpo8+1, fix situation where clients.pickle file is owned by
    root.

 -- Teddy Hogeborn <teddy@recompile.se>  Tue, 08 Mar 2016 01:09:55 +0100

mandos (1.7.4-1) unstable; urgency=medium

  * New upstream release.
  * initramfs-tools-script: Fix "Call to configure_network in initramfs
    script broken due to set -e" by surrounding call by "set +x" and "set
    -e" (Closes: #816513)
  * debian/control: (Source: mandos/Build-Depends-Indep): Change
    "python-gobject | python-gi" to "python-gi | python-gobject"
    (Package: mandos/Depends): - '' -

 -- Teddy Hogeborn <teddy@recompile.se>  Sat, 05 Mar 2016 23:10:07 +0100

mandos (1.7.3-1) unstable; urgency=medium

  * New upstream release.

 -- Teddy Hogeborn <teddy@recompile.se>  Mon, 29 Feb 2016 22:26:38 +0100

mandos (1.7.2-1) unstable; urgency=medium

  * New upstream release.
  * Fix "Uses unneeded and obsolete version specific python packages"
    by removing version-specific dependencies (Closes: #811159)
  * debian/control (Source: mandos/Build-Depends): Add (>= 3.3.0) to
    "libgnutls28-dev" and "gnutls-dev".
    (Source: mandos/Build-Depends-Indep): Remove "python2.7-gnutls",
    "python2.7", "python2.7-dbus", "python2.7-avahi", and
    "python2.7-gobject"; replace with "python (>= 2.7), python (<< 3)",
    "python-dbus", "python-avahi", "python-gobject | python-gi".
    (Package: mandos/Depends): Remove "python-gnutls" and
    "python2.7-gnutls", add "libgnutls28-dev (>= 3.3.0) | libgnutls30 (>=
    3.3.0)".  Add "python (<< 3)".  Remove "python2.7-dbus",
    "python2.7-avahi", "python2.7-gobject", and "python2.7-urwid".
    Replace "python-gobject" with "python-gobject | python-gi" and "gnupg
    (<< 2)" with "gnupg".
    (Package: mandos-client/Depends): Replace
    "gnupg (<< 2)" with "gnupg".
    (Source: mandos/Standards-Version): Change to 3.9.7.
  * debian/copyright (Copyright): Update copyright year.

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 28 Feb 2016 16:09:01 +0100

mandos (1.7.1-2) unstable; urgency=medium

  * debian/control (Package: mandos/Depends): Fix "Please drop versioned
    dependency on initscripts package" by removing initscripts dependency
    (Closes: #804967)
  * debian/rules (override_dh_fixperms) Fix "FTBFS when built with
    dpkg-buildpackage -A (No such file or directory)" by splitting into
    "override_dh_fixperms-arch" and "override_dh_fixperms-indep".
    (Closes: #806073)

 -- Teddy Hogeborn <teddy@recompile.se>  Sat, 05 Dec 2015 02:27:40 +0100

mandos (1.7.1-1) unstable; urgency=medium

  * New upstream release.

 -- Teddy Hogeborn <teddy@recompile.se>  Sat, 24 Oct 2015 19:43:40 +0200

mandos (1.7.0-1) unstable; urgency=medium

  * New upstream release.
  * debian/control (Standards-Version): Updated to "3.9.6".
    (Build-Depends): Add "libnl-route-3-dev".
    (Package: mandos-client/Recommends): Added "gnutls-bin | openssl" for
    the generating of DH parameters.
  * debian/mandos-client.README.Debian: Update example command line to use
    new MANDOSPLUGINHELPERDIR environment variable.  Also document the new
    dhparams.pem file.
  * debian/mandos-client.postinst: Create DH parameters file.
  * debian/mandos.prerm: Don't run init script, use only invoke-rc.d.
  * debian/mandos-client.postinst: Don't use absolute paths to commands.
  * debian/mandos-client.postrm: Don't use absolute paths to commands.
    Also remove dhparams.pem file.
  * debian/copyright (Copyright): Update copyright year.
  * Upstream changed systemd service file to implicitly be of
    "Type=dbus". (Closes: #786845)

 -- Teddy Hogeborn <teddy@recompile.se>  Mon, 10 Aug 2015 22:00:29 +0200

mandos (1.6.9-1) unstable; urgency=medium

  * New upstream release.
  * debian/control (Build-Depends): Fix "still uses GnutLS 2.x" by
    changing from "libgnutls-dev" to "libgnutls28-dev | gnutls-dev"
    (Closes: #762349)

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 05 Oct 2014 22:05:06 +0200

mandos (1.6.8-1) unstable; urgency=medium

  * New upstream release.
  * debian/control (Source: mandos/Build-Depends-Indep): Since upstream
    now requires Python 2.7, depend on exactly the python2.7 package and
    all the Python 2.7 versions of the python modules.
    (Package: mandos/Depends): - '' - but still depend on python (>=2.7)
    and the generic versions of the Python modules; this is for mandos-ctl
    and mandos-monitor, both of which are compatible with Python 3, and
    use #!/usr/bin/python.

 -- Teddy Hogeborn <teddy@recompile.se>  Wed, 06 Aug 2014 22:55:24 +0200

mandos (1.6.7-1) unstable; urgency=medium

  * New upstream release.

 -- Teddy Hogeborn <teddy@recompile.se>  Thu, 17 Jul 2014 05:22:45 +0200

mandos (1.6.6-1) unstable; urgency=medium

  * New upstream release.
  * debian/mandos.postinst: Fix typo in comment.
  * debian/control (mandos/Recommends): Changed to "ssh-client | fping".
    (mandos-client/Recommends): New; set to "ssh".

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 13 Jul 2014 22:49:21 +0200

mandos (1.6.5-3) unstable; urgency=medium

  * debian/control (mandos-client/Depends): Add "dpkg-dev (>=1.16.0)";
    initramfs-tools-hook runs "dpkg-architecture -qDEB_HOST_MULTIARCH".
    (Closes: #750221)

 -- Teddy Hogeborn <teddy@recompile.se>  Fri, 06 Jun 2014 04:27:15 +0200

mandos (1.6.5-2) unstable; urgency=medium

  * debian/rules (override_dh_auto_test-arch): New; does nothing.  Fixes
    FTBFS for build-indep.

 -- Teddy Hogeborn <teddy@recompile.se>  Tue, 13 May 2014 08:08:31 +0200

mandos (1.6.5-1) unstable; urgency=medium

  * New upstream release.
  * debian/copyright: Change year to "2014".
  * debian/control (Build-Depends, Build-Depends-Indep): Moved build
    dependencies of "mandos" package to "Build-Depends-Indep".
  * debian/upstream/signing-key.asc: New; upstream source public key.
  * debian/control (Standards-Version): Updated to "3.9.5".
  * debian/control (mandos/Depends): Remove the dependency on
    "avahi-daemon (>= 0.6.31-3) | systemd-sysv".  It is unnecessary
    since we have a workaround in debian/mandos.postinst anyway.

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 11 May 2014 22:16:33 +0200

mandos (1.6.4-1) unstable; urgency=medium

  * New upstream release.
  * debian/control (Build-Depends): Add Python dependencies to
                                    successfully run self-tests.
  * debian/copyright: GPLv3 now has its own license file - use it.
  * debian/watch: Set PGP signature URL.

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 16 Feb 2014 14:09:25 +0100

mandos (1.6.3-1) unstable; urgency=low

  * New upstream release.
  * debian/control (Build-Depends): Added "systemd".
  * debian/mandos.dirs (lib/systemd/system): New.
  * debian/mandos-client.README.Debian: Refer to architecture libdir.
  * debian/control (mandos/Depends): Add "avahi-daemon (>= 0.6.31-3) |
                                     systemd-sysv".
  * debian/mandos.postinst: If avahi-daemon is version 0.6.31-2 or older,
                            edit /etc/init.d script headers Required-Start
                            and Required-Stop to have "avahi" instead of
                            "avahi-daemon", before insserv(8) sees it.
  * debian/mandos-client.lintian-overrides: Libdir changes.
  * debian/rules (override_dh_fixperms): - '' -

 -- Teddy Hogeborn <teddy@recompile.se>  Tue, 21 Jan 2014 22:01:30 +0100

mandos (1.6.2-1) unstable; urgency=low

  * New upstream release.
  * debian/compat: Changed to "9".
  * debian/control (Build-Depends): Changed debhelper version to (>= 9).
    (Standards-Version): Updated to "3.9.4".
    (DM-Upload-Allowed): Removed.
    (mandos/Depends): Add "initscripts (>= 2.88dsf-13.3)" to be able to
                      use the "/run" directory (for mandos.pid).
  * debian/copyright (Copyright): Update year.
  * Fix "Mandos/gnutls fails to establish connection, "an algorithm that
    is not enabled was negotiated"" fixed by upstream. (Closes: #702120)

 -- Teddy Hogeborn <teddy@recompile.se>  Thu, 24 Oct 2013 22:33:40 +0200

mandos (1.6.1-1) unstable; urgency=low

  * New upstream release.
  * debian/control (mandos/Depends): No longer depends on
                                     python-gnupginterface, but does
                                     depend on gnupg (<< 2).
    (Build-Depends): Depend on debhelper 8.9.7 for using "override-*-arch"
                     and "override-*-indep" targets in debian/rules.
  * debian/mandos-client.README: Update Linux documentation link.
  * debian/rules: Completely rewritten to use debhelper v7.
  * initramfs-tools-hook: Bug fix: Make sure the right version of GnuPG is
    copied into the initramfs image.  Always assume that GPGME is used to
    avoid searching for it since the path might not be /usr/lib.  Thanks
    to Félix Sipma <felix+debian@gueux.org> for the initial bug report,
    and also thanks to Dick Middleton <dick@lingbrae.com> for some more
    debugging. (Closes:  #721903)
  * Fix "bashism in /bin/sh script" fixed by upstream. (Closes: #690639)

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 13 Oct 2013 19:03:23 +0200

mandos (1.6.0-1) unstable; urgency=low

  * New upstream release.
  * debian/copyright (Copyright): Join the two lines to a single line.
  * debian/mandos-client.README.Debian: Update to refer to the new
    location of the example network hooks, and the new feature of using
    all network interfaces.
  * debian/mandos-client.docs (network-hooks.d): Removed.
  * debian/mandos-client.examples (network-hooks.d): New.
  * debian/rules (binary-common): Added "dh_installexamples".
    (binary-common/dh_fixperms): Exclude new location of
    "network-hooks.d".

 -- Teddy Hogeborn <teddy@recompile.se>  Mon, 18 Jun 2012 00:15:23 +0200

mandos (1.5.5-1) unstable; urgency=low

  * New upstream release.
  * debian/copyright (Format): Updated to
    "http://www.debian.org/doc/packaging-manuals/copyright-format/1.0/".
  * debian/control (Build-Depends): Removed "man, locales-all".

 -- Teddy Hogeborn <teddy@recompile.se>  Fri, 01 Jun 2012 20:30:41 +0200

mandos (1.5.4-1) unstable; urgency=low

  * New upstream release.

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 20 May 2012 15:38:34 +0200

mandos (1.5.3-1.2) unstable; urgency=low

  * Non-maintainer upload.
  * Set Architecture to linux-any.  (Closes: #647670)

 -- Robert Millan <rmh@debian.org>  Sun, 22 Apr 2012 16:22:01 +0200

mandos (1.5.3-1.1) unstable; urgency=low

  * Non-maintainer upload.
  * Fix "mandos FTBFS on buildds": add build-dependency on locales-all and
    pass LC_ALL to dh_auto_build to make sure we have and use the en_US.UTF-8
    locale for manpage creation.
    (Closes: #656178)

 -- gregor herrmann <gregoa@debian.org>  Tue, 31 Jan 2012 17:56:05 +0100

mandos (1.5.3-1) unstable; urgency=low

  * New upstream release.

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 15 Jan 2012 22:05:54 +0100

mandos (1.5.2-1) unstable; urgency=low

  * New upstream release.

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 08 Jan 2012 11:17:20 +0100

mandos (1.5.1-1) unstable; urgency=low

  * New upstream release.

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 01 Jan 2012 21:53:31 +0100

mandos (1.5.0-1) unstable; urgency=low

  * New upstream release.
  * debian/control (mandos-client/Depends): Added "initramfs-tools".
  * debian/mandos-client.README.Debian: Corrected mail address and adjust
                                        wording.
  * debian/rules (binary-common): Exclude new nework-hooks.d directory
                                  from dh_fixperms.
  * debian/mandos-client.README.Debian: Document network hook facility.
  * debian/mandos-client.docs (network-hooks.d): Added.
  * debian/mandos.dirs (var/lib/mandos): Added.
  * debian/mandos.postinst: Fix ownership of /var/lib/mandos.
  * debian/control (mandos/Depends): Added "python-gnupginterface".

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 01 Jan 2012 05:58:11 +0100

mandos (1.4.1-1) unstable; urgency=low

  * New upstream release.
  * debian/control (Build-Depends): Added "man".
  * debian/control (Conflicts): Changed to "Breaks:".
  * debian/copyright: Updated format.
  * debian/mandos-client.postinst: Use "set -e" instead of "#!/bin/sh -e".
  * debian/mandos-client.postrm: - '' -
  * debian/mandos.postinst: - '' -
  * debian/mandos.prerm: Consistent magic.

 -- Björn Påhlsson <belorn@fukt.bsnet.se>  Sat, 15 Oct 2011 18:18:52 +0200

mandos (1.4.0-1) unstable; urgency=low

  * New upstream release.
  * Fix "FTBFS with binutils-gold": Added "-Xlinker --as-needed" to
    LDFLAGS in Makefile. (Closes: #632145)
  * Fix "/run transition: uses obsolete /dev/.initramfs": Try both old and
    new PID file locations. (Closes: #643554)
  * debian/source/local-options: New; contains "--single-debian-patch".
  * debian/control (Standards-Version): Upgraded to "3.9.2".
    (DM-Upload-Allowed): New; set to "yes".
  * debian/control: Changed domain from "fukt.bsnet.se" to "recompile.se".
  * debian/copyright: - '' -
  * debian/mandos-client.README.Debian: - '' -
  * debian/mandos.README.Debian: - '' -
  * debian/watch: - '' -
  * debian/control (mandos/Description): Fix language to placate lintian.

 -- Teddy Hogeborn <teddy@recompile.se>  Sun, 09 Oct 2011 19:15:08 +0200

mandos (1.3.1-1) unstable; urgency=low

  * New upstream release.
  * Conflict with correct version of dropbear.
  * New version uses argparse; depend on python (<=2.7) | python-argparse.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Wed, 27 Jul 2011 19:47:17 +0200

mandos (1.3.0-1) unstable; urgency=low

  * New upstream release.
  * debian/control (mandos): Depend on Python 2.6, remove dependency on
    python-multiprocessing.
  (mandos-client): Conflict with dropbear (<< 0.52-5).
  * debian/mandos-client.postrm (purge): Bug fix: update initramfs also on
    purge.
  * debian/mandos-client.lintian-overrides: Added plugins.d/plymouth.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Tue, 08 Mar 2011 20:22:57 +0100

mandos (1.2.3-1) experimental; urgency=low

  * New upstream release.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Mon, 11 Oct 2010 19:37:31 +0200

mandos (1.2.2-1) experimental; urgency=low

  * New upstream release.
  * plugins.d/splashy.c: Only use ELIBBAD if defined. (Closes: #599256)

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Thu, 07 Oct 2010 20:27:54 +0200

mandos (1.2.1-3) experimental; urgency=low

  * debian/changelog: Include entry for NMU of version 1.0.14-1.1.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Tue, 05 Oct 2010 20:58:38 +0200

mandos (1.2.1-2) unstable; urgency=low

  * debian/source/format: New; contains "3.0 (quilt)".  Really.

 -- Björn Påhlsson <belorn@fukt.bsnet.se>  Sat, 02 Oct 2010 19:46:59 +0200

mandos (1.2.1-1) unstable; urgency=low

  * New upstream release.
  * debian/source/format: New; contains "3.0 (quilt)".

 -- Björn Påhlsson <belorn@fukt.bsnet.se>  Sat, 02 Oct 2010 19:03:58 +0200

mandos (1.2-1) unstable; urgency=low

  * New upstream release.
  * Makefile (LINK_FORTIFY_LD): Remove "-fPIE". (Closes: #557076)
  * debian/control: Add gnupg dependency to "mandos-client" and removed it
    from "mandos".  Added dependency on "python-urwid" "mandos" since the
    new "mandos-monitor" utility needs it, and on "python (>=2.6) |
    python-multiprocessing" since the Mandos server now uses it.
  * debian/rules: Set BROKEN_PIE on mips and mipsel if a known buggy
    version of binutils is used.
  * debian/mandos.docs: Also install "/usr/share/doc/mandos/DBUS-API".
  * debian/mandos.dirs: Added "etc/dbus-1/system.d".
  * debian/mandos-client.README.Debian: Update info about DEVICE setting
    of initramfs.conf.
  * debian/mandos-client.README.Debian: Remove warning about --connect not
    looping, since it now does.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Tue, 28 Sep 2010 20:46:11 +0200

mandos (1.0.14-1.1) unstable; urgency=low

  * Non-maintainer upload.
  * Rebuild against libavahi-core-dev (>= 0.6.26-1).

 -- Michael Biebl <biebl@debian.org>  Mon, 12 Jul 2010 16:34:34 +0200

mandos (1.0.14-1) unstable; urgency=low (HIGH on mips and mipsel)

  * New upstream release.
  * debian/rules: Build with BROKEN_PIE set on mips and mipsel
    architectures - fixes FTBFS there.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Sun, 25 Oct 2009 20:10:09 +0100

mandos (1.0.13-1) unstable; urgency=high

  * New upstream release.
  * Do not copy unnecessary files to initrd (Closes: #551907)

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Thu, 22 Oct 2009 00:53:21 +0200

mandos (1.0.12-1) unstable; urgency=low

  * New upstream release.
  * init.d-mandos: Correct dependencies (Closes: #546928)
  * debian/control (Standards-Version): Changed to "3.8.3".
  * debian/mandos-client.README.Debian: Improved wording and formatting.
    Updated location of nfsroot.txt.
  * debian/mandos.README.Debian: Improved wording and formatting.
  * debian/mandos-client.postinst (configure): Don't look for user and
    group with the old name if upgrading from a new enough version.
  * debian/mandos.postinst (configure): - '' -
  * debian/mandos-client.README.Debian: Added text about non-usability of
    pseudo-network interfaces.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Thu, 17 Sep 2009 15:03:59 +0200

mandos (1.0.11-1) unstable; urgency=low

  * debian/control (Standards-Version): Changed to "3.8.1".
  * Makefile (GNUTLS_CFLAGS, GNUTLS_CFLAGS): Use "pkg-config" instead of
    the old "libgnutls-config" script.  (Closes:  #529836)

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Sat, 23 May 2009 07:12:20 +0200

mandos (1.0.10-1) unstable; urgency=low

  * New upstream release.
  * debian/mandos-client.postinst (update_initramfs): Fix permissions of
    old initrd.img-*.bak files.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Sun, 17 May 2009 04:56:35 +0200

mandos (1.0.9-1) unstable; urgency=low

  * New upstream release.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Sun, 17 May 2009 02:59:45 +0200

mandos (1.0.8-1) unstable; urgency=low

  * New upstream release.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Wed, 25 Feb 2009 02:26:57 +0100

mandos (1.0.7-1) unstable; urgency=low

  * New upstream release.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Tue, 24 Feb 2009 12:58:06 +0100

mandos (1.0.6-1) unstable; urgency=low

  * New upstream release.
  * debian/mandos-client.postinst: Converted to Bourne shell.  Also
    minor message change.
  * debian/mandos-client.postrm: Minor message change.
  * debian/mandos.postinst: Converted to Bourne shell.  Also minor
    message change.
  * debian/mandos.prerm: Minor message change.
  * debian/rules (install-indep): Removed "--no-start" from
    dh_installinit.
  * debian/mandos-client.lintian-overrides: Remove obsolete override for
    unbreakable line in plugin-runner manual page.
  * debian/control (mandos/Depends): Added "python-gobject".
  * debian/mandos-client.dirs: Change
    "usr/share/initramfs-tools/scripts/local-top" to
    "usr/share/initramfs-tools/scripts/init-premount".
  * debian/mandos-client.README.Debian: Add reference to initramfs.conf
    and nfsroot.txt.  New section about the new non-local connection
    feature.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Fri, 13 Feb 2009 09:27:25 +0100

mandos (1.0.5-1) unstable; urgency=low

  * New upstream release.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Sat, 17 Jan 2009 02:26:00 +0100

mandos (1.0.4-1) unstable; urgency=low

  * New upstream release.
  * debian/watch: New file.
  * debian/mandos-client.README.Debian: Document new "mandos=off" kernel
    parameter.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Thu, 15 Jan 2009 05:49:22 +0100

mandos (1.0.3-2) unstable; urgency=low

  * Removed some now-unused debconf files.
  * Changed postinst scripts to not source debconf/confmodule.
  * Removed po-debconf from build-depends.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Tue, 06 Jan 2009 21:28:20 +0100

mandos (1.0.3-1) unstable; urgency=low

  * New upstream release.
  * Add -Xlinker to linker flags to fix FTBFS for some architectures.
    Thanks to Thiemo Seufer <ths@networkno.de> for the report and
    fix. (Closes:  #509398)
  * Remove debconf use altogether, thereby stopping debconf abuse.  Thanks
    to Christian Perrier <bubulle@debian.org>. (Closes:  #509653)
  * Add NEWS file to /usr/share/doc directories.
  * Use and create "_mandos" user+group.  Rename old user+group created by
    older versions of this package.
  * Fix manual pages by adding build-depend on "docbook-xml".

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Tue, 06 Jan 2009 01:21:20 +0100

mandos (1.0.2-1) unstable; urgency=low

  * New upstream release.
  * debian/copyright: Rewritten to conform to
    <http://wiki.debian.org/Proposals/CopyrightFormat?action=recall&rev=233>.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Fri, 17 Oct 2008 20:42:12 +0200

mandos (1.0.1-1) unstable; urgency=low

  * New upstream release.
  * Separate /usr/share/doc/mandos-client/README.Debian into sections with
    headlines.  Add instructions on how to test the server and verify the
    password.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Tue, 07 Oct 2008 23:07:23 +0200

mandos (1.0-2) unstable; urgency=low

  * Added comments in debian/*.lintian-overrides files.  Added Debian
    revison number to version number.

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Wed, 01 Oct 2008 17:23:35 +0200

mandos (1.0-1) unstable; urgency=low

  * Initial Release. (Closes: #500727).

 -- Teddy Hogeborn <teddy@fukt.bsnet.se>  Tue, 30 Sep 2008 21:58:43 +0200
