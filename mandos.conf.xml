<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
	"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY VERSION "1.0">
<!ENTITY CONFNAME "mandos.conf">
<!ENTITY CONFPATH "<filename>/etc/mandos/mandos.conf</filename>">
<!ENTITY TIMESTAMP "2008-08-29">
]>

<refentry xmlns:xi="http://www.w3.org/2001/XInclude">
  <refentryinfo>
    <title>&CONFNAME;</title>
    <!-- NWalsh’s docbook scripts use this to generate the footer: -->
    <productname>&CONFNAME;</productname>
    <productnumber>&VERSION;</productnumber>
    <date>&TIMESTAMP;</date>
    <authorgroup>
      <author>
	<firstname>Björn</firstname>
	<surname>Påhlsson</surname>
	<address>
	  <email>belorn@fukt.bsnet.se</email>
	</address>
      </author>
      <author>
	<firstname>Teddy</firstname>
	<surname>Hogeborn</surname>
	<address>
	  <email>teddy@fukt.bsnet.se</email>
	</address>
      </author>
    </authorgroup>
    <copyright>
      <year>2008</year>
      <holder>Teddy Hogeborn</holder>
      <holder>Björn Påhlsson</holder>
    </copyright>
    <legalnotice>
      <para>
	This manual page is free software: you can redistribute it
	and/or modify it under the terms of the GNU General Public
	License as published by the Free Software Foundation,
	either version 3 of the License, or (at your option) any
	later version.
      </para>

      <para>
	This manual page is distributed in the hope that it will
	be useful, but WITHOUT ANY WARRANTY; without even the
	implied warranty of MERCHANTABILITY or FITNESS FOR A
	PARTICULAR PURPOSE.  See the GNU General Public License
	for more details.
      </para>

      <para>
	You should have received a copy of the GNU General Public
	License along with this program; If not, see
	<ulink url="http://www.gnu.org/licenses/"/>.
      </para>
    </legalnotice>
  </refentryinfo>

  <refmeta>
    <refentrytitle>&CONFNAME;</refentrytitle>
    <manvolnum>5</manvolnum>
  </refmeta>
  
  <refnamediv>
    <refname><filename>&CONFNAME;</filename></refname>
    <refpurpose>
      Configuration file for the Mandos server
    </refpurpose>
  </refnamediv>

  <refsynopsisdiv>
    <synopsis>
      &CONFPATH;
    </synopsis>
  </refsynopsisdiv>

  <refsect1 id="description">
    <title>DESCRIPTION</title>
    <para>
      The file &CONFPATH; is a simple configuration file for
      <citerefentry><refentrytitle>mandos</refentrytitle>
      <manvolnum>8</manvolnum></citerefentry>, and is read by it at
      startup.  The configuration file starts with <quote><literal
      >[DEFAULT]</literal></quote> on a line by itself, followed by
      any number of <quote><varname><replaceable>option</replaceable
      ></varname>=<replaceable>value</replaceable></quote> entries,
      with continuations in the style of RFC 822.  <quote><varname
      ><replaceable>option</replaceable></varname>: <replaceable
      >value</replaceable></quote> is also accepted.  Note that
      leading whitespace is removed from values.  Lines beginning with
      <quote>#</quote> or <quote>;</quote> are ignored and may be used
      to provide comments.
    </para>

  </refsect1>
  <refsect1>
    <title>OPTIONS</title>
    
    <variablelist>
      <varlistentry>
	<term><varname>interface</varname></term>
	<listitem>
	  <synopsis><literal>interface = </literal><replaceable
	  >NAME</replaceable>
	  </synopsis>
	  <xi:include href="mandos-options.xml" xpointer="interface"/>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><varname>address</varname></term>
	<listitem>
	  <synopsis><literal>address = </literal><replaceable
	  >ADDRESS</replaceable>
	  </synopsis>
	  <xi:include href="mandos-options.xml" xpointer="address"/>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><varname>port</varname></term>
	<listitem>
	  <synopsis><literal>port = </literal><replaceable
	  >NUMBER</replaceable>
	  </synopsis>
	  <xi:include href="mandos-options.xml" xpointer="port"/>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><varname>debug</varname></term>
	<listitem>
	  <synopsis><literal>debug = </literal>{ <literal
	  >1</literal> | <literal>yes</literal> | <literal
	  >true</literal> | <literal>on</literal> | <literal
	  >0</literal> | <literal>no</literal> | <literal
	  >false</literal> | <literal>off</literal> }
	  </synopsis>
	  <xi:include href="mandos-options.xml" xpointer="debug"/>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><varname>priority</varname></term>
	<listitem>
	  <synopsis><literal>priority = </literal><replaceable
	  >STRING</replaceable>
	  </synopsis>
	  <xi:include href="mandos-options.xml" xpointer="priority"/>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><varname>servicename</varname></term>
	<listitem>
	  <synopsis><literal>servicename = </literal><replaceable
	  >NAME</replaceable>
	  </synopsis>
	  <xi:include href="mandos-options.xml"
		      xpointer="servicename"/>
	</listitem>
      </varlistentry>
      
    </variablelist>
  </refsect1>
  
  <refsect1 id="files">
    <title>FILES</title>
    <para>
      The file described here is &CONFPATH;
    </para>
  </refsect1>
  
  <refsect1 id="bugs">
    <title>BUGS</title>
    <para>
      The <literal>[DEFAULT]</literal> is necessary because the Python
      built-in module <systemitem class="library">ConfigParser</systemitem>
      requres it.
    </para>
  </refsect1>
  
  <refsect1 id="example">
    <title>EXAMPLE</title>
    <informalexample>
      <para>
	No options are actually required:
      </para>
      <programlisting>
[DEFAULT]
      </programlisting>
    </informalexample>
    <informalexample>
      <para>
	An example using all the options:
      </para>
      <programlisting>
[DEFAULT]
# A configuration example
interface = eth0
address = 2001:db8:f983:bd0b:30de:ae4a:71f2:f672
port = 1025
debug = true
priority = SECURE256:!CTYPE-X.509:+CTYPE-OPENPGP
servicename = Daena
      </programlisting>
    </informalexample>
  </refsect1>
  
  <refsect1 id="see_also">
    <title>SEE ALSO</title>
    <para>
      <citerefentry>
	<refentrytitle>mandos</refentrytitle>
	<manvolnum>8</manvolnum></citerefentry>, <citerefentry>
	<refentrytitle>mandos-clients.conf</refentrytitle>
	<manvolnum>5</manvolnum></citerefentry>, <citerefentry>
	<refentrytitle>gnutls_priority_init</refentrytitle>
	<manvolnum>3</manvolnum></citerefentry>
    </para>

    <variablelist>
      <varlistentry>
	<term>
	  RFC 4291: <citetitle>IP Version 6 Addressing
	  Architecture</citetitle>
	</term>
	<listitem>
	  <variablelist>
	    <varlistentry>
	      <term>Section 2.2: <citetitle>Text Representation of
	      Addresses</citetitle></term>
	      <listitem><para/></listitem>
	    </varlistentry>
	    <varlistentry>
	      <term>Section 2.5.5.2: <citetitle>IPv4-Mapped IPv6
	      Address</citetitle></term>
	      <listitem><para/></listitem>
	    </varlistentry>
	    <varlistentry>
	    <term>Section 2.5.6, <citetitle>Link-Local IPv6 Unicast
	    Addresses</citetitle></term>
	    <listitem>
	      <para>
		The clients use IPv6 link-local addresses, which are
		immediately usable since a link-local addresses is
		automatically assigned to a network interfaces when it
		is brought up.
	      </para>
	    </listitem>
	    </varlistentry>
	  </variablelist>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term>
	  <ulink url="http://www.zeroconf.org/">Zeroconf</ulink>
	</term>
	<listitem>
	  <para>
	    Zeroconf is the network protocol standard used by clients
	    for finding the Mandos server on the local network.
	  </para>
	</listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
</refentry>
<!-- Local Variables: -->
<!-- time-stamp-start: "<!ENTITY TIMESTAMP [\"']" -->
<!-- time-stamp-end: "[\"']>" -->
<!-- time-stamp-format: "%:y-%02m-%02d" -->
<!-- End: -->
