-*- org -*-

* [#A] README file

* plugin-runner
** [#B] Add more comments to code
** [#B] Add more if(debug) calls
** [#B] Seperate more code to function for more readability
** [#A] Man page: man8/plugin-runner.8mandos
*** EXIT STATUS
*** EXAMPLES
    Examples of normal usage, debug usage, debugging single or all
    plugins, etc.
*** FILES
*** SECURITY
*** BUGS
*** SEE ALSO
    Explaining text on what you can read
** Keydir move: /etc/mandos -> /etc/keys/mandos
   Must create in preinst if not pre-depending on cryptsetup

* password-request
** [#A] Man page: man8/password-request.8mandos
*** SYNOPSIS
    Document short options
*** DESCRIPTION
    State that this command is not meant to be invoked directly, but
    is run as a plugin from mandos-client(8) and only run in the
    initrd environment, not the real system.
*** PURPOSE
    As in mandos.xml
*** OVERVIEW
    As in mandos.xml
*** EXIT STATUS
*** ENVIRONMENT
    Note that it does *not* currently use cryptsource or crypttarget.
*** FILES
    Describe the key files and the key ring files.  Also note that
    they should normally have been automatically created.
*** BUGS
*** EXAMPLE
    Examples of normal usage, debug usage, debugging by connecting
    directly, etc.
*** SECURITY
*** SEE ALSO
    Update from mandos.xml
** [#B] Temporarily lower kernel log level
   for less printouts during sucessfull boot.
** IPv4 support
** use strsep instead of strtok?
** Do not depend on GnuPG key rings on disk
   This would mean creating new GnuPG key rings with GPGME by
   importing the key files from scratch on every program start.

* password-prompt
** [#A] Man page: man8/password-prompt.8mandos
*** SYNOPSIS
    Document short options
*** DESCRIPTION
    Note that this is more or less a simple getpass(3) wrapper, even
    though actual use of getpass(3) is not guaranteed.
*** EXIT STATUS
*** ENVIRONMENT
    Document use of "cryptsource" and "crypttarget".
*** FILES
*** BUGS
*** EXAMPLE
    Examples of normal usage, debug usage, with a prefix, etc.
*** SECURITY
    Not much to do here but it is noteworthy to state the danger of
    not having a fallback option.
*** SEE ALSO
    Refer to mandos-client(8mandos) and password-request(8mandos)
    and also, perhaps, to cryptsetup(8)?
** Use getpass(3)?
   Man page says "obsolete", but [[info:libc:getpass][GNU LibC Manual: Reading Passwords]]
   does not.  See also [[http://sources.redhat.com/ml/libc-alpha/2003-05/msg00251.html][Marcus Brinkmann: Re: getpass obsolete?]] and
   [[http://article.gmane.org/gmane.comp.lib.glibc.alpha/4906][Petter Reinholdtsen: Re: getpass obsolete?]], and especially also
   [[http://www.steve.org.uk/Reference/Unix/faq_4.html#SEC48][Unix Programming FAQ 3.1 How can I make my program not echo input?]]

* mandos (server)
** [#A] Config file man page: man5/mandos.conf (mandos.conf)
** [#A] Config file man page: man5/mandos-clients.conf (clients.conf)
** [#A] /etc/init.d/mandos-server		:teddy:
** [#B] Log level				:bugs:
** /etc/mandos/clients.d/*.conf
   Watch this directory and add/remove/update clients?
** config for TXT record
** [#B] Run-time communication with server	:bugs:
   Probably using D-Bus
   See also [[*Mandos-tools]]
** Implement --foreground			:bugs:
   [[info:standards:Option%20Table][Table of Long Options]]
** Implement --socket
   [[info:standards:Option%20Table][Table of Long Options]]
** Date+time on console log messages		:bugs:
   Is this the default?

* Mandos-tools/utilities
  All of this probably using D-Bus
** List clients
** Disable client
** Enable client

* Installer
** Client
*** Update initrd.img after installation
    This seems to use some kind of "trigger" system
** Server
*** [#A] Create mandos user and group for server
*** [#A] Create /var/run/mandos directory with perm and ownership

** mandos-keygen
*** [#A] Output cut-and-paste ready snippet for clients.conf.

* [#A] Package
** /usr/share/initramfs-tools/hooks/mandos
*** Do not install in initrd.img if configured not to.
    Use "/etc/initramfs-tools/conf.d/mandos"?  Definitely a debconf
    question.
** /etc/bash_completion.d/mandos
*** From XML sources directly?
** unperish
** bzr-builddeb

* INSTALL file

* Web site

* Mailing list

* Announce project on news
  [[news:comp.os.linux.announce]]


#+STARTUP: showall
